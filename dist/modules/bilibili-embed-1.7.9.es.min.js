var e=Object.defineProperty;const t=class e extends HTMLElement{static get observedAttributes(){return["bvid","autoplay","muted"]}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}attributeChangedCallback(){this.render()}disconnectedCallback(){var e;const t=null==(e=this.shadowRoot)?void 0:e.querySelector("iframe");t&&(t.src="")}render(){if(!this.shadowRoot)return;const t=this.getAttribute("bvid");if(!t)return void(this.shadowRoot.innerHTML=`\n        <style>${e.STYLES}</style>\n        <div class="error-message">错误：缺少 bvid 属性</div>\n      `);const i=this.hasAttribute("autoplay")?"1":"0",n=this.hasAttribute("muted")?"1":"0",r=new URLSearchParams({bvid:t,autoplay:i});"1"===n&&r.append("muted","1");const a=`https://player.bilibili.com/player.html?${r.toString()}`;this.shadowRoot.innerHTML=`\n      <style>${e.STYLES}</style>\n      <div class="bilibili-video-wrapper">\n        <iframe src="${a}" frameborder="0" allow="autoplay; fullscreen; encrypted-media"></iframe>\n      </div>\n    `}};var i;((t,i,n)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n})(t,"symbol"!=typeof(i="STYLES")?i+"":i,"\n    .bilibili-video-wrapper {\n      position: relative;\n      width: 100%;\n      height: 0;\n      padding-bottom: 56.25%; /* 16:9 宽高比 */\n    }\n    .bilibili-video-wrapper iframe {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n    .error-message {\n      color: red;\n      padding: 10px;\n      font-family: Arial, sans-serif;\n    }\n  ");let n=t;customElements.define("bilibili-video",n);const r="bilibili-embed";export{r as BILIBILI_EMBED_MODULE};
