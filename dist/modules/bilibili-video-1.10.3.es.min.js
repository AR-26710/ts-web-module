const e="\n  .bilibili-video-wrapper {\n    position: relative;\n    width: 100%;\n    height: 0;\n    padding-bottom: 56.25%; /* 16:9 宽高比 */\n  }\n  .bilibili-video-wrapper iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n  .error-message {\n    color: red;\n    padding: 10px;\n    font-family: Arial, sans-serif;\n  }\n";class t extends HTMLElement{static get observedAttributes(){return["bvid","autoplay","muted"]}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}attributeChangedCallback(){this.render()}disconnectedCallback(){var e;const t=null==(e=this.shadowRoot)?void 0:e.querySelector("iframe");t&&(t.src="")}render(){if(!this.shadowRoot)return;const t=this.getAttribute("bvid");if(!t)return void(this.shadowRoot.innerHTML=`\n        <style>${e}</style>\n        <div class="error-message">错误：缺少 bvid 属性</div>\n      `);const i=this.hasAttribute("autoplay")?"1":"0",n=this.hasAttribute("muted")?"1":"0",r=new URLSearchParams({bvid:t,autoplay:i});"1"===n&&r.append("muted","1");const o=`https://player.bilibili.com/player.html?${r.toString()}`;this.shadowRoot.innerHTML=`\n      <style>${e}</style>\n      <div class="bilibili-video-wrapper">\n        <iframe src="${o}" frameborder="0" allow="autoplay; fullscreen; encrypted-media"></iframe>\n      </div>\n    `}}customElements.define("bilibili-video",t);const i="bilibili-video";export{i as BILIBILI_EMBED_MODULE};
