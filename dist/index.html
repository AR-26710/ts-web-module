<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web组件示例</title>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .component-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }
        h1 {
            text-align: center;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        .tab-nav {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            padding: 8px 0;
            overflow-x: auto;
            white-space: nowrap;
            cursor: grab;
            user-select: none;

        }
        .tab-nav:active {
            cursor: grabbing;
        }

        .tab-btn {
            padding: 8px 16px;
            border: none;
            background: #f5f5f5;
            border-radius: 4px;
            cursor: pointer;
        }
        .tab-btn.active {
            background: #007bff;
            color: white;
        }
        .tab-panel {
            display: none;
        }
        .tab-panel.active {
            display: block;
        }
    </style>
  <script type="module" crossorigin src="./ts-web-module-1.3.5.es.js"></script>
</head>
<body>
    <h1>Web组件示例</h1>

    <div class="tab-container">
        <div class="tab-nav">
            <button class="tab-btn active" data-tab="bilibili">Bilibili视频嵌入组件</button>
            <button class="tab-btn" data-tab="resource">双色链接组件</button>
            <button class="tab-btn" data-tab="textbox">文本框组件</button>
            <button class="tab-btn" data-tab="clouddrive">网盘链接组件</button>
        </div>
        <div class="tab-content">
            <div class="component-section tab-panel active" id="tab-bilibili"></div>

            <div class="component-section tab-panel" id="tab-resource"></div>

            <div class="component-section tab-panel" id="tab-textbox"></div>

            <div class="component-section tab-panel" id="tab-clouddrive"></div>
        </div>
    </div>

    <script>

        let ignoreNextClick = false;

        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', (e) => {

                if (ignoreNextClick) {
                    ignoreNextClick = false;
                    e.preventDefault();
                    return;
                }

                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));

                button.classList.add('active');
                const tabId = 'tab-' + button.dataset.tab;
                const panel = document.getElementById(tabId);
                panel.classList.add('active');

                const dataTab = button.dataset.tab;
                const externalTabs = ['bilibili', 'resource', 'textbox', 'clouddrive'];
                if (externalTabs.includes(dataTab)) {
                    const url = `examples/${dataTab}.html`;
                    if (panel.innerHTML.trim() === '') {
                        fetch(url)
                            .then(response => response.text())
                            .then(html => {
                                panel.innerHTML = html;
                            })
                            .catch(error => {
                                panel.innerHTML = `<p>加载内容失败: ${error.message}</p>`;
                            });
                    }
                }
            });
        });
        document.querySelector('.tab-btn.active').click();
    </script>
</body>
</html>